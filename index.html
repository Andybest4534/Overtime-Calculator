<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Overtime Calculator • AndyGadgetsCare</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(145deg, #f0f4f8, #e0ebf7);
      margin: 0;
      padding: 0;
      color: #333;
    }

    header {
      background: #1d3557;
      color: white;
      padding: 20px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    header h1 {
      margin: 0;
      font-size: 1.5em;
      letter-spacing: 0.5px;
    }

    header p {
      margin-top: 5px;
      font-size: 0.9em;
      font-style: italic;
    }

    .container {
      max-width: 450px;
      background: white;
      margin: 30px auto;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      transition: all 0.3s ease-in-out;
    }

    label, input, select, button {
      width: 100%;
      margin-top: 15px;
      font-size: 1rem;
    }

    input, select {
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      background: #457b9d;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #2a6aa0;
    }

    .result, .history {
      background: #f9fafc;
      border: 1px solid #dfe6ee;
      border-radius: 8px;
      padding: 15px;
      margin-top: 25px;
      animation: fadeIn 0.6s ease;
    }

    .history-entry {
      margin-bottom: 12px;
      border-bottom: 1px dashed #ccc;
      padding-bottom: 8px;
    }

    footer {
      background: #f1f5f8;
      padding: 20px;
      font-size: 0.85em;
      text-align: center;
      color: #555;
    }

    .services {
      margin-top: 10px;
      font-size: 0.95em;
      line-height: 1.6;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<header>
  <h1>Overtime Calculator</h1>
  <p>Powered by AndyGadgetsCare — Tech at Your Fingertips</p>
</header>

<div class="container">
  <label>Days Worked:</label>
  <input type="number" id="daysWorked" placeholder="e.g. 22" />

  <label>Basic Salary:</label>
  <input type="number" id="basicSalary" placeholder="e.g. 50000" />

  <label>Company Hours Type:</label>
  <select id="companyHoursMode">
    <option value="fixed">Fixed (176)</option>
    <option value="dynamic">Dynamic (8 × Days Worked)</option>
  </select>

  <button onclick="calculateOT()">Calculate</button>
  <button onclick="exportHistory()">Export History</button>

  <div class="result" id="output" style="display:none;"></div>
  <div class="history" id="history" style="display:none;">
    <h3>Calculation History</h3>
    <div id="historyList"></div>
  </div>
</div>

<footer>
  <strong>AndyGadgetsCare</strong> — Software Solutions & Technical Services<br>
  <div class="services">
    💻 Laptop & Phone Sales<br>
    🛠 Repairs & Troubleshooting<br>
    🎨 Graphics Design<br>
    📦 Accessories & Gadgets<br>
    📱 WhatsApp: +234 906 521 3803
  </div>
</footer>

<script>
let historyData = [];

function calculateOT() {
  const daysWorked = parseFloat(document.getElementById("daysWorked").value);
  const basicSalary = parseFloat(document.getElementById("basicSalary").value);
  const mode = document.getElementById("companyHoursMode").value;

  if (isNaN(daysWorked) || isNaN(basicSalary)) {
    alert("Please enter valid numbers.");
    return;
  }

  const otHours = (12 - 8) * daysWorked;
  const companyHours = mode === "fixed" ? 176 : 8 * daysWorked;
  const otPayment = (1.5 * otHours * basicSalary) / companyHours;

  const result = {
    date: new Date().toLocaleString(),
    otHours: otHours.toFixed(2),
    companyHours: companyHours,
    otPayment: otPayment.toFixed(2)
  };

  historyData.push(result);
  updateOutput(result);
  updateHistory();
}

function updateOutput(result) {
  const out = document.getElementById("output");
  out.style.display = "block";
  out.innerHTML = `
    <strong>OT Hours:</strong> ${result.otHours} hrs<br/>
    <strong>Company Hours Used:</strong> ${result.companyHours} hrs<br/>
    <strong>OT Payment:</strong> ₦${result.otPayment}
  `;
}

function updateHistory() {
  const container = document.getElementById("historyList");
  container.innerHTML = "";
  historyData.forEach((entry, i) => {
    container.innerHTML += `
      <div class="history-entry">
        <strong>#${i + 1}</strong> (${entry.date})<br/>
        OT: ${entry.otHours} hrs | Company Hrs: ${entry.companyHours} | OT Pay: ₦${entry.otPayment}
      </div>
    `;
  });
  document.getElementById("history").style.display = "block";
}

function exportHistory() {
  if (historyData.length === 0) {
    alert("No history to export.");
    return;
  }
  const content = historyData.map((entry, i) => 
    `#${i + 1} – ${entry.date}\nOT: ${entry.otHours} hrs\nCompany Hrs: ${entry.companyHours}\nOT Pay: ₦${entry.otPayment}\n`
  ).join('\n');

  const blob = new Blob([content], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const link = document.createElement("a");
  link.download = "OT_History.txt";
  link.href = url;
  link.click();
}
</script>

</body>
</html>
